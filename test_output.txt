ğŸ¬ CLI scene override: thruster_test
ğŸ® CGGame - Sokol-based Component Engine
==========================================

âš™ï¸  Initializing configuration...
ğŸ“ Config: Loaded 6 configuration values from cgame_config.txt
ğŸ¯ Startup scene: thruster_test (auto-start: enabled)
âš™ï¸  Config system initialized
ğŸ”§ Initializing graphics...
ğŸŒ Setting up world...
ğŸŒ World initialized - ready for 4096 entities
âš™ï¸ Starting systems...
ğŸ“ Asset root: /Users/ratimics/develop/cgame/build/assets
ğŸ“‹ Data registry initialized
   Data root: /Users/ratimics/develop/cgame/data
ğŸ“ Loading entity templates from /Users/ratimics/develop/cgame/data/templates/entities.txt
   âœ… Loaded 13 entity templates
ğŸ—ï¸  Dynamically loading all scene templates from /Users/ratimics/develop/cgame/data/scenes
ğŸ—ï¸  Loading scene templates from /Users/ratimics/develop/cgame/data/scenes/ode_simple.txt
   âœ… Loaded 0 scene templates
âœ… Dynamically loaded 1 scene template files
ğŸ“¦ Created memory pool 'Meshes' (ID: 0, limit: 128.00 MB)
ğŸ“¦ Created memory pool 'Textures' (ID: 1, limit: 64.00 MB)
ğŸ“¦ Created memory pool 'Materials' (ID: 2, limit: 1.00 MB)
âœ… Memory system initialized:
   Memory limit: 256 MB
   Streaming: enabled
   Unloading: enabled
âœ… Material system initialized with 4 default materials
ğŸš€ Initializing Sokol-based renderer (1200x800)
ğŸ“‚ Loading vertex shader: assets/shaders/basic_3d.vert.metal
ğŸ“‚ Loading fragment shader: assets/shaders/basic_3d.frag.metal
ğŸ”§ Creating shader with entry points: vs=vs_main, fs=fs_main
ğŸ” Shader state: 2 (VALID=2, FAILED=3, INVALID=4)
ğŸ”§ Creating pipeline with default swapchain-compatible formats
ğŸ”§ Creating pipeline with default swapchain-compatible formats
ğŸ” Pipeline created with default formats
ğŸ” Pipeline state: 2 (VALID=2, FAILED=3, INVALID=4)
âœ… Sokol rendering pipeline initialized with external shaders
âœ… Render system initialized successfully
ğŸ” Loading assets...
ğŸ“‹ Loading asset index: /Users/ratimics/develop/cgame/build/assets/meshes/index.json
ğŸ“‹ Loading mesh from metadata: /Users/ratimics/develop/cgame/build/assets/meshes/props/wedge_ship_mk2/metadata.json
ğŸ” DEBUG: Parsed metadata - name='wedge_ship_mk2', geometry='geometry.cobj'
ğŸ” DEBUG: Full mesh path: '/Users/ratimics/develop/cgame/build/assets/meshes/props/wedge_ship_mk2/geometry.cobj'
ğŸ” DEBUG: Calling load_mesh_from_file with: registry=0x1011ac890, path='/Users/ratimics/develop/cgame/build/assets/meshes/props/wedge_ship_mk2/geometry.cobj', name='wedge_ship_mk2'
ğŸ” DEBUG load_mesh_from_file: filepath='/Users/ratimics/develop/cgame/build/assets/meshes/props/wedge_ship_mk2/geometry.cobj', mesh_name='wedge_ship_mk2'
ğŸ” Detected binary .cobj format for /Users/ratimics/develop/cgame/build/assets/meshes/props/wedge_ship_mk2/geometry.cobj
ğŸ” Loading binary mesh: 9 vertices, 30 indices
ğŸ” DEBUG: Creating GPU buffers for wedge_ship_mk2 - VB=288 bytes, IB=120 bytes
âœ… GPU resources created successfully for mesh wedge_ship_mk2
âœ… Loaded binary mesh: wedge_ship_mk2 (9 vertices, 30 indices) with AABB
ğŸ” DEBUG: Set material 'wedge_ship_mk2' for mesh 'wedge_ship_mk2'
ğŸ” DEBUG: Updated material 'wedge_ship_mk2' texture reference from 'texture.png' to 'wedge_ship_mk2_texture'
âœ… Loaded texture: wedge_ship_mk2_texture (1024x1024)
âœ… wedge_ship_mk2
ğŸ“‹ Loading mesh from metadata: /Users/ratimics/develop/cgame/build/assets/meshes/props/sun/metadata.json
ğŸ” DEBUG: Parsed metadata - name='sun', geometry='geometry.cobj'
ğŸ” DEBUG: Full mesh path: '/Users/ratimics/develop/cgame/build/assets/meshes/props/sun/geometry.cobj'
ğŸ” DEBUG: Calling load_mesh_from_file with: registry=0x1011ac890, path='/Users/ratimics/develop/cgame/build/assets/meshes/props/sun/geometry.cobj', name='sun'
ğŸ” DEBUG load_mesh_from_file: filepath='/Users/ratimics/develop/cgame/build/assets/meshes/props/sun/geometry.cobj', mesh_name='sun'
ğŸ” Detected binary .cobj format for /Users/ratimics/develop/cgame/build/assets/meshes/props/sun/geometry.cobj
ğŸ” Loading binary mesh: 56 vertices, 288 indices
ğŸ” DEBUG: Creating GPU buffers for sun - VB=1792 bytes, IB=1152 bytes
âœ… GPU resources created successfully for mesh sun
âœ… Loaded binary mesh: sun (56 vertices, 288 indices) with AABB
ğŸ” DEBUG: Set material 'sun' for mesh 'sun'
ğŸ” DEBUG: Updated material 'sun' texture reference from 'texture.png' to 'sun_texture'
âœ… Loaded texture: sun_texture (1024x1024)
âœ… sun
ğŸ“‹ Loading mesh from metadata: /Users/ratimics/develop/cgame/build/assets/meshes/props/wedge_ship/metadata.json
ğŸ” DEBUG: Parsed metadata - name='wedge_ship', geometry='geometry.cobj'
ğŸ” DEBUG: Full mesh path: '/Users/ratimics/develop/cgame/build/assets/meshes/props/wedge_ship/geometry.cobj'
ğŸ” DEBUG: Calling load_mesh_from_file with: registry=0x1011ac890, path='/Users/ratimics/develop/cgame/build/assets/meshes/props/wedge_ship/geometry.cobj', name='wedge_ship'
ğŸ” DEBUG load_mesh_from_file: filepath='/Users/ratimics/develop/cgame/build/assets/meshes/props/wedge_ship/geometry.cobj', mesh_name='wedge_ship'
ğŸ” Detected binary .cobj format for /Users/ratimics/develop/cgame/build/assets/meshes/props/wedge_ship/geometry.cobj
ğŸ” Loading binary mesh: 7 vertices, 24 indices
ğŸ” DEBUG: Creating GPU buffers for wedge_ship - VB=224 bytes, IB=96 bytes
âœ… GPU resources created successfully for mesh wedge_ship
âœ… Loaded binary mesh: wedge_ship (7 vertices, 24 indices) with AABB
ğŸ” DEBUG: Set material 'wedge_ship' for mesh 'wedge_ship'
ğŸ” DEBUG: Updated material 'wedge_ship' texture reference from 'texture.png' to 'wedge_ship_texture'
âœ… Loaded texture: wedge_ship_texture (1024x1024)
âœ… wedge_ship
ğŸ“‹ Loading mesh from metadata: /Users/ratimics/develop/cgame/build/assets/meshes/props/control_tower/metadata.json
ğŸ” DEBUG: Parsed metadata - name='control_tower', geometry='geometry.cobj'
ğŸ” DEBUG: Full mesh path: '/Users/ratimics/develop/cgame/build/assets/meshes/props/control_tower/geometry.cobj'
ğŸ” DEBUG: Calling load_mesh_from_file with: registry=0x1011ac890, path='/Users/ratimics/develop/cgame/build/assets/meshes/props/control_tower/geometry.cobj', name='control_tower'
ğŸ” DEBUG load_mesh_from_file: filepath='/Users/ratimics/develop/cgame/build/assets/meshes/props/control_tower/geometry.cobj', mesh_name='control_tower'
ğŸ” Detected binary .cobj format for /Users/ratimics/develop/cgame/build/assets/meshes/props/control_tower/geometry.cobj
ğŸ” Loading binary mesh: 39 vertices, 204 indices
ğŸ” DEBUG: Creating GPU buffers for control_tower - VB=1248 bytes, IB=816 bytes
âœ… GPU resources created successfully for mesh control_tower
âœ… Loaded binary mesh: control_tower (39 vertices, 204 indices) with AABB
ğŸ” DEBUG: Set material 'control_tower' for mesh 'control_tower'
ğŸ” DEBUG: Updated material 'control_tower' texture reference from 'texture.png' to 'control_tower_texture'
âœ… Loaded texture: control_tower_texture (1024x1024)
âœ… control_tower
ğŸ“‹ Loading mesh from metadata: /Users/ratimics/develop/cgame/build/assets/meshes/props/logo_cube/metadata.json
ğŸ” DEBUG: Parsed metadata - name='logo_cube', geometry='geometry.cobj'
ğŸ” DEBUG: Full mesh path: '/Users/ratimics/develop/cgame/build/assets/meshes/props/logo_cube/geometry.cobj'
ğŸ” DEBUG: Calling load_mesh_from_file with: registry=0x1011ac890, path='/Users/ratimics/develop/cgame/build/assets/meshes/props/logo_cube/geometry.cobj', name='logo_cube'
ğŸ” DEBUG load_mesh_from_file: filepath='/Users/ratimics/develop/cgame/build/assets/meshes/props/logo_cube/geometry.cobj', mesh_name='logo_cube'
ğŸ” Detected binary .cobj format for /Users/ratimics/develop/cgame/build/assets/meshes/props/logo_cube/geometry.cobj
ğŸ” Loading binary mesh: 24 vertices, 36 indices
ğŸ” DEBUG: Creating GPU buffers for logo_cube - VB=768 bytes, IB=144 bytes
âœ… GPU resources created successfully for mesh logo_cube
âœ… Loaded binary mesh: logo_cube (24 vertices, 36 indices) with AABB
ğŸ” DEBUG: Set material 'logo_cube' for mesh 'logo_cube'
ğŸ” DEBUG: Updated material 'logo_cube' texture reference from 'logo.png' to 'logo_cube_texture'
âœ… Loaded texture: logo_cube_texture (1024x1024)
âœ… logo_cube
ğŸ“‹ Loading mesh from metadata: /Users/ratimics/develop/cgame/build/assets/meshes/props/landing_pad/metadata.json
ğŸ” DEBUG: Parsed metadata - name='landing_pad', geometry='geometry.cobj'
ğŸ” DEBUG: Full mesh path: '/Users/ratimics/develop/cgame/build/assets/meshes/props/landing_pad/geometry.cobj'
ğŸ” DEBUG: Calling load_mesh_from_file with: registry=0x1011ac890, path='/Users/ratimics/develop/cgame/build/assets/meshes/props/landing_pad/geometry.cobj', name='landing_pad'
ğŸ” DEBUG load_mesh_from_file: filepath='/Users/ratimics/develop/cgame/build/assets/meshes/props/landing_pad/geometry.cobj', mesh_name='landing_pad'
ğŸ” Detected binary .cobj format for /Users/ratimics/develop/cgame/build/assets/meshes/props/landing_pad/geometry.cobj
ğŸ” Loading binary mesh: 14 vertices, 72 indices
ğŸ” DEBUG: Creating GPU buffers for landing_pad - VB=448 bytes, IB=288 bytes
âœ… GPU resources created successfully for mesh landing_pad
âœ… Loaded binary mesh: landing_pad (14 vertices, 72 indices) with AABB
ğŸ” DEBUG: Set material 'landing_pad' for mesh 'landing_pad'
ğŸ” DEBUG: Updated material 'landing_pad' texture reference from 'texture.png' to 'landing_pad_texture'
âœ… Loaded texture: landing_pad_texture (1024x1024)
âœ… landing_pad
ğŸ“‹ Loading mesh from metadata: /Users/ratimics/develop/cgame/build/assets/meshes/props/planet_surface/metadata.json
ğŸ” DEBUG: Parsed metadata - name='planet_surface', geometry='geometry.cobj'
ğŸ” DEBUG: Full mesh path: '/Users/ratimics/develop/cgame/build/assets/meshes/props/planet_surface/geometry.cobj'
ğŸ” DEBUG: Calling load_mesh_from_file with: registry=0x1011ac890, path='/Users/ratimics/develop/cgame/build/assets/meshes/props/planet_surface/geometry.cobj', name='planet_surface'
ğŸ” DEBUG load_mesh_from_file: filepath='/Users/ratimics/develop/cgame/build/assets/meshes/props/planet_surface/geometry.cobj', mesh_name='planet_surface'
ğŸ” Detected binary .cobj format for /Users/ratimics/develop/cgame/build/assets/meshes/props/planet_surface/geometry.cobj
ğŸ” Loading binary mesh: 4 vertices, 6 indices
ğŸ” DEBUG: Creating GPU buffers for planet_surface - VB=128 bytes, IB=24 bytes
âœ… GPU resources created successfully for mesh planet_surface
âœ… Loaded binary mesh: planet_surface (4 vertices, 6 indices) with AABB
ğŸ” DEBUG: Set material 'planet_surface' for mesh 'planet_surface'
ğŸ” DEBUG: Updated material 'planet_surface' texture reference from 'texture.png' to 'planet_surface_texture'
âœ… Loaded texture: planet_surface_texture (1024x1024)
âœ… planet_surface
ğŸ“‹ Loaded 7 meshes from asset index
ğŸ“‹ Loaded Assets:
   Meshes (7):
     wedge_ship_mk2: 9 vertices, 30 indices âœ…
     sun: 56 vertices, 288 indices âœ…
     wedge_ship: 7 vertices, 24 indices âœ…
     control_tower: 39 vertices, 204 indices âœ…
     logo_cube: 24 vertices, 36 indices âœ…
     landing_pad: 14 vertices, 72 indices âœ…
     planet_surface: 4 vertices, 6 indices âœ…
   Textures (7):
     wedge_ship_mk2_texture: 1024x1024 âœ…
     sun_texture: 1024x1024 âœ…
     wedge_ship_texture: 1024x1024 âœ…
     control_tower_texture: 1024x1024 âœ…
     logo_cube_texture: 1024x1024 âœ…
     landing_pad_texture: 1024x1024 âœ…
     planet_surface_texture: 1024x1024 âœ…
   Materials (7):
     wedge_ship_mk2 âœ…
     sun âœ…
     wedge_ship âœ…
     control_tower âœ…
     logo_cube âœ…
     landing_pad âœ…
     planet_surface âœ…
ğŸ“‹ Entity Templates (13):
   - control_tower: Spaceport control structure
   - sun: Central star
   - wedge_ship: Standard wedge-shaped spacecraft
   - wedge_ship_mk2: Advanced wedge-shaped spacecraft  
   - player_ship: Basic player-controlled spacecraft
   - chase_camera: Third-person chase camera
   - cockpit_camera: First-person cockpit camera
   - security_camera: Fixed security camera
   - ai_ship: AI-controlled spacecraft
   - landing_pad: Spaceport landing platform
   - planet_surface: Large planetary surface
   - logo_cube: Gold standard reference cube for testing and validation
   - scene_node: Minimal scene entity for utility purposes
ğŸ—ï¸  Scene Templates (0):
âš¡ Performance monitoring initialized
   Frame time warning: 20.0 ms
   Memory warning: 512 MB
ğŸ¯ System scheduler initialized
   Physics: 60.0 Hz
   Collision: 20.0 Hz
   AI: 5.0 Hz (base)
   Camera: 60.0 Hz
   LOD: 30.0 Hz
   Performance: 5.0 Hz
   Memory: 2.0 Hz
   Thrusters: 60.0 Hz
   Control: 60.0 Hz
ğŸ¨ Configuring renderer...
ğŸš€ Initializing Sokol-based renderer (1280x720)
âœ… Render system initialized successfully
ğŸ—ï¸ Loading scene...
ğŸ¯ Using CLI-specified scene: thruster_test
â„¹ï¸ Loading scene: thruster_test
ğŸ—ï¸  Loading scene 'thruster_test' from data...
Loading scene: thruster_test
ğŸ“‹ Loading entities...
ğŸ“¦ Created entity 1 of type: player_ship
   Added PLAYER component
âš ï¸ Ship 1 missing required components for configuration
   Configured ship with FIGHTER preset
âœ… Loaded YAML scene from thruster_test.yaml
âœ… Loaded scene from YAML: thruster_test.yaml
ğŸ¯ Player found: Entity ID 1
ğŸ’¡ Set ambient light: color(0.10,0.15,0.20) intensity=0.30
ğŸ’¡ Added directional light: dir(0.30,-0.70,0.20) color(0.40,0.50,0.60) intensity=0.40
ğŸ’¡ Scene lighting configured
ğŸŒ Scene loaded with 1 entities
ğŸ¬ Scene state manager initialized - starting in LOGO state
ğŸ¨ Registered scene UI module: navigation_menu
ğŸ¨ Registered scene UI module: debug
ğŸ¨ Registered scene UI module: logo
ğŸ¨ Scene UI system initialized with 3 modules
ğŸ® UI: Adaptive controls initialized (mode: Keyboard)
âœ… HUD system initialized with 11 components
ğŸ¯ Default camera mode: CHASE_NEAR
âœ… Core UI system initialized
ğŸ¥ Initializing camera system...
ğŸ¥ Camera system initialized

ğŸ“¹ Available cameras:
   âš ï¸  No active camera set

ğŸ¬ Executing scene script enter: thruster_test
ğŸš€ Initializing Thruster Test Scene - Gyroscopic Control Prototype
ğŸ¯ Test ship found: Entity ID 1
âš ï¸ Ship 1 missing required components for configuration
ğŸ® Initializing gamepad system with hidapi...
ğŸ® No supported gamepads detected
ğŸ® Supported: Xbox (VID:0x045E), PlayStation (VID:0x054C), 8BitDo (VID:0x2DC8)
âœ… Gamepad system initialized successfully
ğŸ® Canyon Racing Input: Gamepad system ready
âœ… Canyon Racing Input system initialized
ğŸ® Canyon Racing Control: Player entity set to 1

ğŸ“‹ THRUSTER TEST CONTROLS:
   F1 - Toggle thrust vector display
   F2 - Toggle physics debug info
   F3 - Toggle thruster group display
   F5 - Reset ship position

ğŸ® GYROSCOPIC STABILIZATION:
   - Ship automatically counters rotation when stick released
   - RCS thrusters fire to stop spin
   - Realistic momentum and inertia
âœ… Engine initialized successfully!

ğŸ® Starting simulation...
Press ESC to exit, C to cycle cameras, W for wireframe
ğŸ® gamepad_poll() called #1
ğŸ” Total entities in world: 1
ğŸ” Entity 1: components=0x31 (R:1 T:1)
ğŸ” Processing Entity 1: components=0x31 (R:1 T:1)
âŒ Entity 1: Invalid vertex buffer (ID: 0)
âŒ Entity 1: Invalid index buffer (ID: 0)
âŒ Entity 1: Zero index count
ğŸ¨ Sokol ECS rendering active: pipeline_state=2, renderable_entities=1
ğŸ® gamepad_poll() called #2
âœ… LOD system initialized - distances: H:20.0 M:50.0 L:100.0 C:200.0
ğŸ” Processing Entity 1: components=0x31 (R:1 T:1)
âŒ Entity 1: Invalid vertex buffer (ID: 0)
âŒ Entity 1: Invalid index buffer (ID: 0)
âŒ Entity 1: Zero index count
ğŸ® gamepad_poll() called #3
âŒ Entity 1: Invalid vertex buffer (ID: 0)
âŒ Entity 1: Invalid index buffer (ID: 0)
âŒ Entity 1: Zero index count
ğŸ® gamepad_poll() called #4
âŒ Entity 1: Invalid vertex buffer (ID: 0)
âŒ Entity 1: Invalid index buffer (ID: 0)
âŒ Entity 1: Zero index count
ğŸ® gamepad_poll() called #5
âŒ Entity 1: Invalid vertex buffer (ID: 0)
âŒ Entity 1: Invalid index buffer (ID: 0)
âŒ Entity 1: Zero index count
âŒ Entity 1: Invalid vertex buffer (ID: 0)
âŒ Entity 1: Invalid index buffer (ID: 0)
âŒ Entity 1: Zero index count
âŒ Entity 1: Invalid vertex buffer (ID: 0)
âŒ Entity 1: Invalid index buffer (ID: 0)
âŒ Entity 1: Zero index count
âŒ Entity 1: Invalid vertex buffer (ID: 0)
âŒ Entity 1: Invalid index buffer (ID: 0)
âŒ Entity 1: Zero index count
âŒ Entity 1: Invalid vertex buffer (ID: 0)
âŒ Entity 1: Invalid index buffer (ID: 0)
âŒ Entity 1: Zero index count
ğŸ§­ TAB pressed - opening navigation menu
ğŸ¬ Scene transition requested: thruster_test -> navigation_menu
ğŸ¬ Executing scene transition: thruster_test -> navigation_menu
ğŸ¥ Camera system reset for scene transition
ğŸŒ Clearing world - removing 1 entities
ğŸŒ World cleared
ğŸ—ï¸  Loading scene 'navigation_menu' from data...
âŒ Failed to open YAML scene file: data/scenes/navigation_menu.yaml
âŒ Scene not found in YAML or templates: navigation_menu
âŒ Failed to load scene: navigation_menu
ğŸ¥ Initializing camera system...
ğŸ¥ Camera system initialized
ğŸ¬ Executing scene script enter: navigation_menu
ğŸ§­ Navigation Menu: Entered FTL navigation interface
ğŸ¬ Scene state changing: LOGO -> MENU
ğŸ¨ Scene UI module will handle navigation interface
ğŸ¬ Scene transition completed: now in navigation_menu
â‹ Escape key pressed in navigation menu - exiting

ğŸ Simulation complete!
âœ… HUD system shut down
ğŸ¨ Scene UI system shut down
âœ… Core UI system shut down
ğŸ§¹ Render system cleaned up
ğŸ”§ Material system shutdown
ğŸ¨ Asset system cleaned up
ğŸ“‹ Data registry cleaned up
ğŸ¯ System scheduler destroyed after 112 frames

ğŸ“Š SYSTEM PERFORMANCE STATS
Total frames: 112, Total time: 2.12s
  Physics: 112 calls, 0.00ms avg, 52.8 Hz actual
  AI: 10 calls, 0.00ms avg, 4.7 Hz actual
  Camera: 112 calls, 0.00ms avg, 52.8 Hz actual
  LOD: 56 calls, 0.00ms avg, 26.4 Hz actual
  Memory: 4 calls, 0.00ms avg, 1.9 Hz actual
  Thrusters: 112 calls, 0.00ms avg, 52.8 Hz actual
  Control: 112 calls, 0.00ms avg, 52.8 Hz actual
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸŒ World destroyed - processed 0 entities over 112 frames
ğŸ’¾ Config: Saved configuration to cgame_config.txt
âš™ï¸  Config system shut down
âœ… Cleanup complete
