# ODE Physics Test Scene
# Tests ODE (Open Dynamics Engine) physics integration

name: ode_test
description: "ODE Physics integration test scene"

entities:
  - type: player_ship
    position: [0, 10, 0]
    rotation: [0, 0, 0, 1]
    scale: [1, 1, 1]
    components:
      physics:
        mass: 80.0
        drag_linear: 0.02
        drag_angular: 0.1
        has_6dof: true
        use_ode: true
      collision:
        shape: box
        size: [2, 1, 3]
      thrusters:
        enabled: true
      control_authority:
        enabled: true
    material: racing_ship
    mesh: wedge_ship_mk2

  - type: landing_pad
    position: [0, 0, 0]
    scale: [10, 1, 10]
    material: metal
    mesh: landing_pad
    components:
      physics:
        mass: 0  # Static
        kinematic: true

  # Test obstacles in a circle
  - type: obstacle
    position: [20, 5, 0]
    scale: [2, 2, 2]
    material: metal
    mesh: logo_cube
    components:
      physics:
        mass: 100.0
        drag_linear: 0.1
        drag_angular: 0.2
        has_6dof: true
        use_ode: true
      collision:
        shape: box
        size: [2, 2, 2]

  - type: obstacle
    position: [14.14, 5, 14.14]
    rotation: [0, 0.383, 0, 0.924]
    scale: [2, 2, 2]
    material: metal
    mesh: logo_cube
    components:
      physics:
        mass: 100.0
        drag_linear: 0.1
        drag_angular: 0.2
        has_6dof: true
        use_ode: true
      collision:
        shape: box
        size: [2, 2, 2]

  - type: obstacle
    position: [0, 5, 20]
    rotation: [0, 0.707, 0, 0.707]
    scale: [2, 2, 2]
    material: metal
    mesh: logo_cube
    components:
      physics:
        mass: 100.0
        drag_linear: 0.1
        drag_angular: 0.2
        has_6dof: true
        use_ode: true
      collision:
        shape: box
        size: [2, 2, 2]

  - type: obstacle
    position: [-14.14, 5, 14.14]
    rotation: [0, 0.924, 0, 0.383]
    scale: [2, 2, 2]
    material: metal
    mesh: logo_cube
    components:
      physics:
        mass: 100.0
        drag_linear: 0.1
        drag_angular: 0.2
        has_6dof: true
        use_ode: true
      collision:
        shape: box
        size: [2, 2, 2]

  - type: obstacle
    position: [-20, 5, 0]
    rotation: [0, 1, 0, 0]
    scale: [2, 2, 2]
    material: metal
    mesh: logo_cube
    components:
      physics:
        mass: 100.0
        drag_linear: 0.1
        drag_angular: 0.2
        has_6dof: true
        use_ode: true
      collision:
        shape: box
        size: [2, 2, 2]

  # Camera
  - type: chase_camera
    position: [0, 20, -30]
    components:
      camera:
        follow_target: player_ship
        follow_distance: 40.0
        follow_offset: [0, 15, -30]
        follow_smoothing: 12.0
        behavior: chase

lighting:
  ambient:
    color: [0.10, 0.15, 0.20]
    intensity: 0.30
  
  directional:
    - direction: [0.30, -0.70, 0.20]
      color: [0.40, 0.50, 0.60]
      intensity: 0.40

environment:
  gravity: [0, 0, 0]  # Space
  physics_engine: ode